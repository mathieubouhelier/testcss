(this.webpackJsonptestblog=this.webpackJsonptestblog||[]).push([[0],{51:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(18),i=c.n(s),o=c(11),l=(c(51),c(14)),u=c(3),d=c(41),j=c(13),b=c(9),h=c(17),O=c.n(h),p=c(24),f=c(37),g=c(38),_=c(39),m=c.n(_),x=new(function(){function e(){Object(f.a)(this,e);this.http=m.a.create({baseURL:"https://blog.apiki.com/wp-json/wp/v2",timeout:3e4}),this.http.interceptors.response.use(this.handleSuccess,this.handleError)}return Object(g.a)(e,[{key:"handleSuccess",value:function(e){return e}},{key:"handleError",value:function(e){throw e}},{key:"getBlogsByPage",value:function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.get("/posts?_embed&categories=518&page=".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPostBySlug",value:function(){var e=Object(p.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.get("/posts?_embed&slug=".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),v="FIRST_PAGE_FETCHED",y="POST_FETCHED",N="FETCHING",E="ERROR",w="ADDITIONAL_PAGE_FETCHED",k={isFetching:!0,blogs:[],totalPages:0,post:[],errors:[]},S=function(e){return{type:N,payload:{status:e}}},C=function(e){return function(t){t(S(!0)),x.getBlogsByPage(e).then((function(c){console.log(c),1===e?(t({type:v,payload:c}),t(S(!1))):(t(function(e){return{type:w,payload:e}}(c.data)),t(S(!1)))})).catch((function(e){return t(function(){return{type:E,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(e))}))}},F=function(e){return function(t){t(S(!0)),x.getPostBySlug(e).then((function(e){var c;t((c=e.data,{type:y,payload:c})),t(S(!1))}))}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case N:return Object(b.a)(Object(b.a)({},e),{},{isFetching:n.status});case v:return Object(b.a)(Object(b.a)({},e),{},{blogs:Object(j.a)(n.data),totalPages:n.headers["x-wp-totalpages"]});case w:return Object(b.a)(Object(b.a)({},e),{},{blogs:[].concat(Object(j.a)(e.blogs),Object(j.a)(n))});case y:return Object(b.a)(Object(b.a)({},e),{},{post:Object(j.a)(n)});case E:return Object(b.a)(Object(b.a)({},e),{},{errors:[].concat(Object(j.a)(e.errors),[n])});default:return e}},T=(c(71),function(e){var t=e.blog;return Object(n.jsx)("article",{children:Object(n.jsxs)("div",{className:"card__container flex",children:[Object(n.jsx)("img",{className:"card__img",src:"".concat(t._embedded["wp:featuredmedia"][0].source_url),alt:t.title.rendered}),Object(n.jsxs)("div",{className:"card__content flex",children:[Object(n.jsx)("div",{className:"card__title",children:t.title.rendered}),Object(n.jsxs)("div",{className:"card__author__container flex",children:[Object(n.jsx)("div",{className:"card__author__by",children:"By"}),Object(n.jsx)("div",{className:"card__author__name",children:t._embedded.author[0].name}),"z"]})]})]})})}),B=(c(72),function(){return Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("div",{className:"header__logo_container flex",children:Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("img",{className:"header__logo-img",src:"https://blog.apiki.com/wp-content/uploads/sites/2/2020/04/marca-apiki-blog-h552.png",alt:"apiki logo",height:"50px"})})})})}),I=(c(74),function(){var e=Object(o.b)(),t=Object(u.f)(),c=Object(o.c)((function(e){return e.blogReducer})),r=c.blogs,s=c.isFetching,i=c.totalPages;Object(a.useEffect)((function(){e(C(1))}),[e]);var l=Object(a.useState)(1),j=Object(d.a)(l,2),b=j[0],h=j[1];return s?Object(n.jsx)("h2",{children:"Carregando..."}):Object(n.jsxs)("div",{children:[Object(n.jsx)(B,{}),Object(n.jsx)("div",{className:"home__main",children:Object(n.jsxs)("div",{className:"home__section",children:[r.map((function(e,c){return Object(n.jsx)("div",{className:"home__container",onClick:function(){return c=e.slug,t.push("/".concat(c));var c},children:Object(n.jsx)(T,{blog:e})},c)})),Object(n.jsxs)("div",{className:"home__container__pages flex",children:[Object(n.jsxs)("p",{children:["page ",b,"/",i]}),Object(n.jsx)("button",{onClick:function(){return e(C(2)),void h((function(e){return e+1}))},disabled:b===i,children:"Carregar mais..."})]})]})})]})}),R=(c(75),function(e){var t=Object(o.b)(),c=e.match.params.id,r=Object(o.c)((function(e){return e.blogReducer})),s=r.post,i=r.isFetching;return Object(a.useEffect)((function(){t(F(c))}),[t,c]),i||"undefined"===typeof s[0]?Object(n.jsx)("h2",{children:"Carregando..."}):Object(n.jsxs)("div",{children:[Object(n.jsx)(B,{}),Object(n.jsx)("div",{className:"post__section flex",children:Object(n.jsxs)("div",{className:"post__container flex",children:[Object(n.jsx)("h1",{dangerouslySetInnerHTML:{__html:s[0].title.rendered}}),Object(n.jsx)("img",{src:"".concat(s[0]._embedded["wp:featuredmedia"][0].source_url),alt:s[0].title.rendered}),Object(n.jsx)("div",{className:"post__container__article flex",dangerouslySetInnerHTML:{__html:s[0].content.rendered}})]})})]})});c(76);var D=function(){return Object(n.jsx)(l.a,{basename:"/testcss",children:Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:I}),Object(n.jsx)(u.a,{exact:!0,path:"/:id",component:R})]})})})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,78)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))},H=c(10),A=c(40),M=Object(H.c)({blogReducer:P}),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,J=Object(H.e)(M,G(Object(H.a)(A.a)));i.a.render(Object(n.jsxs)(r.a.StrictMode,{children:[Object(n.jsx)(o.a,{store:J,children:Object(n.jsx)(D,{})}),","]}),document.getElementById("root")),L()}},[[77,1,2]]]);
//# sourceMappingURL=main.2ec85b69.chunk.js.map