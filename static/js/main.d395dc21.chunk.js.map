{"version":3,"sources":["services/blogService.js","store/ducks/blog.js","components/BlogCard/BlogCard.jsx","components/Loading/Loading.jsx","components/Header/Header.jsx","pages/Home/index.js","pages/Post/index.js","App.js","reportWebVitals.js","store/ducks/rootReducers.js","store/index.js","index.js"],"names":["this","http","axios","create","baseURL","timeout","interceptors","response","use","handleSuccess","handleError","error","page","get","slug","Types","initialState","isFetching","blogs","totalPages","post","errors","salesFetching","status","type","payload","getAllBlogs","dispatch","BlogService","getBlogsByPage","then","console","log","additionalPageFetched","data","catch","hasErrored","getOnePost","getPostBySlug","blogReducer","state","headers","BlogCard","props","blog","className","src","_embedded","source_url","alt","title","rendered","author","name","Loading","class","Header","to","height","Home","useDispatch","history","useHistory","useSelector","useEffect","useState","setPage","map","index","onClick","blogSlug","push","prevState","disabled","Post","match","params","id","dangerouslySetInnerHTML","__html","content","App","basename","process","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d395dc21.chunk.js","sourcesContent":["import axios from 'axios';\n\nclass BlogService {\n  constructor() {\n    const url = 'https://blog.apiki.com/wp-json/wp/v2';\n    const timeout = 30000;\n\n    this.http = axios.create({\n      baseURL: url,\n      timeout,\n    });\n\n    // Define os handlers para tratamento de erro e sucesso\n    this.http.interceptors.response.use(this.handleSuccess, this.handleError);\n  }\n\n  handleSuccess(response) {\n    return response;\n  }\n\n  handleError(error) {\n    throw error;\n  }\n\n  /** Get all blogs by page*/\n  async getBlogsByPage(page) {\n    return this.http.get(`/posts?_embed&categories=518&page=${page}`);\n  }\n\n  /** Get one post by slug*/\n  async getPostBySlug(slug) {\n    return this.http.get(`/posts?_embed&slug=${slug}`);\n  }\n}\n\nexport default new BlogService();\n","import BlogService from '../../services/blogService';\n\n/** Actions Types */\n\nexport const Types = {\n  FIRST_PAGE_FETCHED: 'FIRST_PAGE_FETCHED',\n  POST_FETCHED: 'POST_FETCHED',\n  FETCHING: 'FETCHING',\n  ERROR: 'ERROR',\n  ADDITIONAL_PAGE_FETCHED: 'ADDITIONAL_PAGE_FETCHED',\n};\n\n/** Reducers */\n\nconst initialState = {\n  isFetching: true,\n  blogs: [],\n  totalPages: 0,\n  post: [],\n  errors: [],\n};\n\nconst blogReducer = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case Types.FETCHING:\n      return { ...state, isFetching: payload.status };\n    case Types.FIRST_PAGE_FETCHED:\n      return {\n        ...state,\n        blogs: [...payload.data],\n        totalPages: payload.headers['x-wp-totalpages'],\n      };\n    case Types.ADDITIONAL_PAGE_FETCHED:\n      return { ...state, blogs: [...state.blogs, ...payload] };\n    case Types.POST_FETCHED:\n      return { ...state, post: [...payload] };\n    case Types.ERROR:\n      return {\n        ...state,\n        errors: [...state.errors, payload],\n      };\n    default:\n      return state;\n  }\n};\n\n/** Actions */\n\nexport const salesFetching = (status) => ({\n  type: Types.FETCHING,\n  payload: {\n    status,\n  },\n});\n\nexport const firstPageFetched = (payload) => ({\n  type: Types.FIRST_PAGE_FETCHED,\n  payload,\n});\n\nexport const additionalPageFetched = (payload) => ({\n  type: Types.ADDITIONAL_PAGE_FETCHED,\n  payload,\n});\n\nexport const postFetched = (payload) => ({\n  type: Types.POST_FETCHED,\n  payload,\n});\n\nexport const hasErrored = (error = []) => ({\n  type: Types.ERROR,\n  payload: error,\n});\n\n/** Actions Creators */\n\nexport const getAllBlogs = (page) => (dispatch) => {\n  dispatch(salesFetching(true));\n\n  BlogService.getBlogsByPage(page)\n    .then((response) => {\n      console.log(response);\n      if (page === 1) {\n        // first page will overwrite the blog object in reducer\n        dispatch(firstPageFetched(response));\n        dispatch(salesFetching(false));\n      } else {\n        // others page will add news pages to the blog object in reducer\n        dispatch(additionalPageFetched(response.data));\n        dispatch(salesFetching(false));\n      }\n    })\n    .catch((error) => dispatch(hasErrored(error)));\n};\n\nexport const getOnePost = (slug) => (dispatch) => {\n  dispatch(salesFetching(true));\n  BlogService.getPostBySlug(slug).then((response) => {\n    dispatch(postFetched(response.data));\n    dispatch(salesFetching(false));\n  });\n};\n\nexport default blogReducer;\n","import React from 'react';\nimport './index.css';\n\nconst BlogCard = (props) => {\n\n  const { blog } = props;\n\n  return (\n    <article >\n      <div className=\"card__container flex\">\n        <img className=\"card__img\" src={`${blog._embedded['wp:featuredmedia']['0'].source_url}`}\n          // alt={blog.title.rendered} width=\"300\"></img>\n          alt={blog.title.rendered} ></img>\n        <div className=\"card__content flex\">\n          <div className=\"card__title\">{blog.title.rendered}</div>\n          <div className=\"card__author__container flex\">\n            <div className=\"card__author__by\">By</div>\n            <div className=\"card__author__name\">\n              {blog._embedded.author[0].name}\n\n            </div>z\n          </div>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default BlogCard;\n","import React from 'react';\nimport './index.css';\n\n\nconst Loading = () => {\n  return (\n<div className=\"loader__container flex\">\n  <div class=\"loader\"></div>\n\n</div>\n  )\n\n}\n\nexport default Loading;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './index.css';\n\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <div className=\"header__logo_container flex\">\n        <Link to={'/'}>\n        <img\n          className=\"header__logo-img\"\n          src=\"https://blog.apiki.com/wp-content/uploads/sites/2/2020/04/marca-apiki-blog-h552.png\"\n          alt=\"apiki logo\" height=\"50px\"\n        ></img>\n        </Link>\n    </div >\n    </div >\n  );\n};\n\nexport default Header;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllBlogs } from '../../store/ducks/blog';\nimport { useHistory } from 'react-router-dom';\nimport BlogCard from '../../components/BlogCard/BlogCard';\nimport Loading from '../../components/Loading/Loading';\nimport Header from '../../components/Header/Header';\nimport './index.css';\n\nconst Home = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { blogs, isFetching, totalPages } = useSelector(\n    (state) => state.blogReducer,\n  );\n\n  useEffect(() => {\n    dispatch(getAllBlogs(1));\n  }, [dispatch]);\n\n  const [page, setPage] = useState(1);\n\n  const handleRedirect = (blogSlug) => history.push(`/${blogSlug}`);\n\n  const handelClick = () => {\n    dispatch(getAllBlogs(2));\n    setPage((prevState) => prevState + 1);\n  };\n\n  // if (isFetching) return <h2>Carregando...</h2>;\n  if (isFetching) return <Loading />;\n\n  return (\n    <div>\n      <Header></Header>\n\n      <div className=\"home__main\">\n      <div className=\"home__section\">\n        {blogs.map((blog, index) => (\n          <div className=\"home__container\" key={index} onClick={() => handleRedirect(blog.slug)}>\n            <BlogCard blog={blog} />\n          </div>\n        ))}\n        <div className=\"home__container__pages flex\" >\n\n        <p>\n          page {page}/{totalPages}\n        </p>\n        <button onClick={() => handelClick()} disabled={page === totalPages}>\n          Carregar mais...\n        </button>\n        </div>\n      </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getOnePost } from '../../store/ducks/blog';\nimport Header from '../../components/Header/Header';\nimport './index.css';\n\nconst Post = (props) => {\n  const dispatch = useDispatch();\n\n  const slug = props.match.params.id;\n  const { post, isFetching } = useSelector((state) => state.blogReducer);\n  useEffect(() => {\n    dispatch(getOnePost(slug));\n  }, [dispatch, slug]);\n\n  if (isFetching || typeof post[0] === 'undefined')\n    return <h2>Carregando...</h2>;\n\n  return (\n    <div>\n      <Header></Header>\n      <div className=\"post__section flex\">\n        <div className=\"post__container flex\">\n          <h1 dangerouslySetInnerHTML={{ __html: post[0].title.rendered }}></h1>\n          <img \n            src={`${post[0]._embedded['wp:featuredmedia']['0'].source_url}`}\n            alt={post[0].title.rendered}\n          ></img>\n        <div className=\"post__container__article flex\" dangerouslySetInnerHTML={{ __html: post[0].content.rendered }}>\n        </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from 'react';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport Home from './pages/Home';\nimport Post from './pages/Post';\nimport './App.css';\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/:id\" component={Post} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from 'redux';\nimport blogReducer from './blog';\n\nconst rootReducer = combineReducers({\n  blogReducer,\n});\n\nexport default rootReducer;\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './ducks/rootReducers';\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n    ,\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}